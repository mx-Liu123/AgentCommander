{
  "$schema": "https://opencode.ai/config.json",
  "permission": {
    // 1. 全局封锁：默认禁止访问任何外部目录
    "external_directory": "deny", 

    // 2. 针对文件工具的“绝对防御”
    "read": {
      // 允许当前目录（相对路径）
      "*": "allow",
      "./*": "allow",
      
      // 关键点：显式禁止任何绝对路径（以 / 或 ~ 开头）
      "/*": "deny",
      "~/*": "deny",
      
      // 禁止上级目录引用
      "../*": "deny"
    },
    
    "edit": {
      "*": "allow",
      "./*": "allow",
      "/*": "deny",     // 禁止绝对路径写
      "~/*": "deny",
      "../*": "deny",
      "..*": "deny"      
    },

    // 3. Bash 只能用“白名单”命令，或者完全禁止
    "bash": {
      "*": "allow",
      "./*": "allow",
      "/*": "deny",     // 禁止绝对路径写
      "~/*": "deny",
      "../*": "deny",
      "..*": "deny"	    
    }
  }
  
}
